## 分布式ID

### 常见解决方案

1. ### UUID 

   它可以保证唯一性，且据说够用N亿年，但是其业务可读性差，无法有序递增。

2. ### SnowFlake/UidGenerator

   基于雪花算法

3. ### Leaf

   Leaf是美团开源的分布式ID生成器，能保证全局唯一，趋势递增，但需要依赖关系数据库、Zookeeper等中间件。 

### 组成部分（64bit）

**1.第一位** 占用1bit，其值始终是0，没有实际作用。 

**2.时间戳** 占用41bit，精确到毫秒，总共可以容纳约69年的时间。

**3.工作机器id** 占用10bit，其中高位5bit是数据中心ID，低位5bit是工作节点ID，做多可以容纳1024个节点。

**4.序列号** 占用12bit，每个节点每毫秒0开始不断累加，最多可以累加到4095，一共可以产生4096个ID。

SnowFlake算法在同一毫秒内最多可以生成多少个全局唯一ID呢：： **同一毫秒的ID数量 = 1024 X 4096 = 4194304**

